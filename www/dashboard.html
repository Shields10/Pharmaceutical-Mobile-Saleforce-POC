<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: gap:">
  <title>Saleforce App</title>
  <link rel="stylesheet" href="packages/core/css/framework7.bundle.min.css">
  <link rel="stylesheet" href="packages/core/components/chartist/chartist.min.css">
  <link rel="stylesheet" href="css/app.css">
  <link rel="apple-touch-icon" href="img/f7-icon-square.png">
  <link rel="icon" href="img/f7-icon.png">
</head>
<body class="color-theme-white" >
    <!-- App root element -->
    <div id="app">

      <div class="panel panel-left panel-cover">
        <div class="page ">
          <div class="page-content" style="background-color: #000a48;" >
            <div class="row panel-headerm">
              <a href="#" class="panel-close close-drawer"><i class="icon f7-icons color-white" style="float: right;margin-right: -124px">multiply</i></a>
            </div> 
              <div class="list no-chevron no-hairlines no-hairlines-between" style="margin-top: 10px;">
              <ul>
                <div class="panelitems">
                  <li>
                    <a href="#" id="lnkdashboard" class="item-link panel-close">
                      <div class="item-content">  
                        <div class="item-inner">
                          <div class="item-title" style="color:#ffff;">Dashboard</div>
                        </div>
                      </div>
                    </a>
                  </li>
                  <li>
                    <a href="#" id="lnkdashboard" class="item-link panel-close">
                      <div class="item-content">  
                        <div class="item-inner">
                          <div class="item-title" style="color:#ffff;">Leave</div>
                        </div>
                      </div>
                    </a>
                  </li>
          
                  <li>
                    <a href="#" id="" onclick="javascript:fnLogOut();return false;" class="item-link panel-close">
                      <div class="item-content">
                        <div class="item-media">
                          <img src="img/logout.svg" alt="retail" height="24" width="24">
                        </div>
                        <div class="item-inner">
                          <div class="item-title"  style="color:#ffff;">Logout</div>
                        </div>
                      </div>
                    </a>
                  </li>
              </div>
              </ul>
              </div>
            </div>
          </div>
        </div> 
        
      <!-- Your main view, should have "view-main" class -->
      <div class="view view-main ios-edges">
        <!-- Initial Page, "data-name" contains page name -->
             <div class="page">
                   
                      <div class="navbar">
                        <div class=" navbar-inner" style="background-color: #000a48;">
                            <div class="left">
                              <a href="#" class="link icon-only panel-open" data-panel="left">
                                <i class="icon f7-icons ios-only" style="color:#FFFFFF" >menu</i>
                                <i class="icon material-icons md-only"  style="color:#FFFFFF">menu</i>
                              </a>
                            </div>
                              <div class="title sliding navtitlep text-align-center" style="margin-left: 100px; margin-right: auto;" >HOME</div> 
                          </div>

                          <!-- TODO: ADD PROFILE PICTURE -->
                      </div>

                         <div class="toolbar tabbar tabbar-labels toolbar-bottom ">
                          <div class="toolbar-inner blue-bg-color">
                            <a href="#tab-1" class="tab-link tab-link-active"  >
                              <i class="icon f7-icons color-white">house_fill</i>
                              <!-- Label text -->
                              <span class="tabbar-label "  style="font-size:x-small ; font-weight: bold;">Home</span>
                            </a>
                            <a href="#tab-2" class="tab-link" >
                              <i class="icon f7-icons color-white">calendar_badge_plus</i>
                              <span class="tabbar-label"  style="font-size:x-small ;font-weight: bold;  color:#f0003c">Tour Plan</span>
                            </a>
                            <a href="#tab-3" class="tab-link" >
                                <i class="icon f7-icons color-white" >doc_text_fill</i>
                              <span class="tabbar-label" style="font-size:x-small ;font-weight: bold;  color:#f0003c">DCR</span>
                            </a>
                            <a href="#tab-4" class="tab-link" >
                              <i class="icon f7-icons color-white">wrench</i>
                            <span class="tabbar-label" style="font-size:x-small ;font-weight: bold; color:#f0003c">Utility</span>
                          </a>
                          </div>
                        </div>

                    
                            <div class="tabs">
                              <!-- Tab 1 -->
                            <div id="tab-1" class="page-content tab tab-active">
                        
                                <div class="blue-overlay">
                                  <p class = "greet-messagename"id="greating" style="color:#FFFFFF; margin-top: 59px;margin-left: 67px;"> </p>
                                  <p class = "greet-messagename"id="spanusername" style="font-size: large; margin-top: 4px;color:white; margin-left: 67px; ">Benjamin </p>
                            
                            
                                </div> 


                                
                                <div class="checkin-card card-outline card elevation-6 elevation-hover-24 elevation-pressed-12 elevation-transition graph-position"  style="margin: top 121px;">
                                  <div id="sparklinedash"></div>   
                                  <span class="graph-text">Doctors Visited the last 7 days</span>
                               
                                  <div>
                                    <canvas id="chartProgress" width="150px" height="100"></canvas>
                                  </div> 
                            </div>

                                <div class="row" style="margin-bottom:-10px;">
                                  <p class="dashboard-titles">Doctor's Seen List</p>               
                                 </div>
                                   
                                 <div class="card card-outline">
                                    <div class="card-content">
                                      <div class="list media-list">
                                        <ul id="view">
                                         <li>
                                           <div class="item-content">
                                             <div class="item-inner">
                                               <div class="item-title-row" style="margin-bottom: -22px;"> 
                                                 <div class="item-title credit">1. Dr. Evans Gicheru </div>
                                                </div>
                                                <div class="item-after">
                                                  <br>9:00 AM, 2nd-July-2021
                                                  <br>Kenyatta Hospital
                                                </div>
                                              </div>
                                            </div>
                                          </li>
                                         <li>
                                           <div class="item-content">
                                             <div class="item-inner">
                                               <div class="item-title-row" style="margin-bottom: -22px;"> 
                                                 <div class="item-title credit">2. Dr. Faith Kioko</div>
                                                </div>
                                                <div class="item-after">
                                                  <br>3:15 PM, 2nd-July-2021
                                                  <br>Avenue Healthcare 
                                                </div>
                                              </div>
                                            </div>
                                          </li>

                                        </ul>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="row" style="margin-bottom:-10px;">
                                    <p class="dashboard-titles">Notification</p>               
                                   </div>
                                     
                                   <div class="card card-outline">
                                      <div class="card-content">
                                        <div class="list media-list">
                                          <ul id="view">
                                          
                                            <div class="grid-notifications">
                                              <div class="row textsizesmall">
                                                <span >1. Tour Plan</span>
                                              </div>
                                              
                                              <div class="row" style="align-items: center; margin: auto;">
                                                <span class="badge color-orange">Pending</span>
                                              </div>
                                              <div class="row textsizesmall">
                                                 <span style="font-weight: bold; margin: auto;color: #d2691e;"> 3rd-July-2021</span></div>
                                            </div> 

                                            <div class="grid-notifications">
                                              <div class="row textsizesmall">
                                                <span >2. Leave Request</span>
                                              </div>
                                              
                                              <div class="row" style="align-items: center; margin: auto;">
                                                <span class="badge color-green">Approved</span>
                                              </div>
                                              <div class="row textsizesmall"> <span style="font-weight: bold; margin: auto;color: #d2691e;"> 1st-July-2021</span></div>
                                            </div> 
                                          </ul>
                                        </div>
                                      </div>
                                    </div>
                
                                             
          
                            </div><!-- End Of Tab 1 -->
                            
                            <!-- Tab 2 -->
                            <div id="tab-2" class="page-content tab"> 
                          


                            </div><!-- End of Tab Two -->
                        
                          </div>
                             
                            
                   
            </div>
       </div>
          <form  method="GET" id="mainform" >
          </form>              
        </div>
      </div>
    </div>
  
    
    <!-- Cordova -->

 <!-- Include cordova.js in all files for final compilation   --> 
 
     <script src="cordova.js"></script>-
  <script src="packages/core/js/framework7.bundle.min.js"></script>
  <script src="js/app.js"></script>
 <script src="js/jquery-3.4.1.min.js"></script> <!--Call the jquery at the end of all JS files, else jquery will not work -->
 <script src="packages/core/components/sparkline/sparkline.js"></script>
 <script src="packages/core/components/chartjs/chart.min.js"></script>
 <script src="js/AESUtil.js"></script>
    
 <script>




$(document).ready(function(){
    console.log('ready');

    var dateNow= new Date().toDateString();
    $('#today').html(dateNow);
    fnLoadGraph();
});
var dt = new Date().getHours();
            if (dt >= 0 && dt <= 11){
             document.getElementById("greating").innerHTML='Good Morning! 🌄'
            }else if (dt >= 12 && dt <= 17){
                document.getElementById("greating").innerHTML='Good Afternoon! 🌞  '
            }else {
                document.getElementById("greating").innerHTML='Good Evening! 🌙'
            }

function fnCallPage(page){

    switch (page){

          case filereport:
            // call page here
          break;
    }
        


}

  document.addEventListener('deviceready', onDeviceReady.bind(this), false);
      function onDeviceReady() {
      document.addEventListener("backbutton", onBackKeyDown, false);

      }  

      function onBackKeyDown(event) {
event.preventDefault();
navigator.notification.confirm("Are you sure you want to exit ?", onConfirm, "Confirmation", "Yes,No");

}

  function fnLogOut() {
        event.preventDefault();
        navigator.notification.confirm("Are you sure you want to exit ?", onConfirm, "Confirmation", "Yes,No");

        }

        
      function onConfirm(button) {
      if(button==2){//If User selected No, then we just do nothing
          return;
      }else{
         cordova.plugins.exit();;// Otherwise we quit the app.
      }

      } 
      

// =========================Sparkline JS======================//
const data = [0, 5, 6, 10, 9, 12, 4]
const config = {
  type: 'bar',
  height: '50',
  barWidth: '10',
  resize: true,
  barSpacing: '5',
  barColor: '#f0003c'
}
$('#sparklinedash').sparkline(data, config)

// =========================End of Sparkline JS======================//
//========================Chart JS Donut=========================//
var percent = 84;
var remainingPercentage = 100- percent;  

function fnLoadGraph(){
Chart.pluginService.register({
    beforeDraw: (chart) => {
        let ctx = chart.chart.ctx;
        ctx.save();
        
        let fontSize = (chart.chart.height / 75).toFixed(2);
        ctx.font = fontSize + "em sans-serif";
        ctx.textBaseline = "middle";                
        let text = chart.data.datasets[0].data[0] + '%';
        let textX = Math.round((chart.chart.width - ctx.measureText(text).width) / 2);
        let textY = chart.chart.height / 2.25;
        ctx.fillText(text, textX, textY);
        
        fontSize = (chart.chart.height / 124).toFixed(2);
        ctx.font = fontSize + "em sans-serif";
        ctx.textBaseline = "middle";                
        text = chart.data.labels[0];
        textX = Math.round((chart.chart.width - ctx.measureText(text).width) / 2);
        textY = chart.chart.height / 1.6;
        ctx.fillText(text, textX, textY);
                
        ctx.restore();
    }
});

var config = {
    type: 'doughnut',
    data: {
        labels: ["Sales Target", "Others"],
        datasets: [{
            data: [percent,remainingPercentage],
            backgroundColor: ["#000a48", "#C1C1C1*" ]
        }]
    },
    options: {
        legend: {
            display: false
        },
        tooltips: {
            enabled: false
        },
        cutoutPercentage: 80,
        aspectRatio: 5,
        rotation: 70
    }
};

var ctx = document.getElementById("chartProgress").getContext("2d");
var myChart = new Chart(ctx, config);
}
//======================== End of Chart JS Donut=========================//

</script>     
</body>
</html>
